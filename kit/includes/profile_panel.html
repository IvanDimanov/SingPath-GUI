<!-- Prints HTML Player Panel -->
<div class="profileName">
  {{profile.nickname}}
</div>

<div class="text">
  <div class="imgWrapper">
    <img ng:src="{{profile.gravatar}}"   class="gravatar" />
    <img ng:src="{{profile.countrySrc}}" class="country"  />
    <img ng:src="{{profile.genderSrc}}"  class="gender"   />
  </div>

  <div class="detailsWrapper">
    <div class="details center">
      <span class="label">
        {{profile.professionalLabel}}
      </span>
    </div>
    
    <div class="details">
      <span class="label">
        Location:
      </span>
        {{profile.locationClamp}}
    </div>
    
    <div class="details">
      <span class="label">
        Tags:
      </span>
        <a ng:repeat="tag in visibleTags" ng:src="/kit/ranking.html?tag={{tag}}" title="Ranking tag: {{tag}}">
          {{tag}}
        </a>
        
        <ng:switch on="visibleTags.length != profile.tags.length">
          <span ng:switch-when="true">...<span>
        </ng:switch>
    </div>
    
    <div class="details">
      <span class="label">
        About Me:
      </span>
      {{profile.aboutClapm}}
    </div>
 </div>
</div>


<!-- Print the Edit Profile Details PopUp Menu -->
<div class="popUp {{popUp.class}}">
  <div class="container" ng:click="popUp.class = 'hide'">
    
    <!-- Top-Left Label -->
    <!-- Note: ng:click="false" prevents the click event from bubbling up to the DOM tree -->
    <div class="profile" ng:click="false">
      <div class="labelContainer">
        <div class="label">
          Edit Profile
        </div>
        <div class="curve"></div>
      </div>
      
      <!-- Top-Right Close btn -->
      <div class="closeBtn" ng:click="popUp.class = 'hide'"></div>
      
      <!-- Main Content -->
      <div class="textContainer">
        <form name="profileDetailsForm" class="text">
          
          <div class="gravatarContainer">
            <img ng:src="{{profilePopUp.gravatar}}" class="gravatar" />
            
            <!-- Print a common btn with the Gravatar btn attributes -->
            <ng:include ng:init="btn = gravatarBtn" src="'includes/common_btn.html'"></ng:include>
          </div>
          
          
          <div class="infoContainer">
            <div class="label">
              Name:
            </div>
            <input type="text" ng:model="profilePopUp.nickname" ng:pattern="nicknameRegExp" required />
            
            <div class="label">
              Location:
            </div>
            <input type="text" ng:model="profilePopUp.location" ng:pattern="locationRegExp" required />
            
            <div class="label">
              Gender:
            </div>
            <select ng:model="profilePopUp.gender">
              <option value="secret">
                Secret
              </option>
              <option value="male">
                Male
              </option>
              <option value="female">
                Female
              </option>
            </select>
            
            <div class="label">
              Year of Birth:
            </div>
            <input type="text" ng:model="profilePopUp.yearOfBirth" ng:pattern="yearRegExp" class="year" required />
            <div class="note">
              Your year of birth will always be kept private and will not be shown on your profile.
            </div>
            
            <div class="label">
              Tags:
            </div>
            <input type="text" ng:model="profilePopUp.tagsAsText" ng:pattern="tagsRegExp" />
            
            <div class="label">
              Professional:
            </div>
            <div class="radioContainer">
              <input type="radio" ng:model="profilePopUp.professionalOption" value="1" />
            </div>
            
            <div class="label">
              Student:
            </div>
            <div class="radioContainer">
              <input type="radio" ng:model="profilePopUp.professionalOption" value="0" />
            </div>
            
            <div class="label">
              About Yourself:
            </div>
            <textarea ng:model="profilePopUp.about" ng:pattern="aboutRegExp"></textarea>
          </div>
          
        </form>
      </div>
      
      <!-- Bottom container and Save btn -->
      <div class="labelBottomContainer">
        <div class="curve"></div>
        <div class="label">
          <a href="#save-details" class="btn {{popUp.btn.class}}" ng:show="profileDetailsForm.$valid" ng:click="popUp.btn.save()" title="{{popUp.btn.label}}">
            {{popUp.btn.label}}
          </a>
          <div class="btn {{popUp.btn.class}} error" ng:show="!profileDetailsForm.$valid" title="{{popUp.btn.errorLabel}}">
            {{popUp.btn.errorLabel}}
          </div>
        </div>
      </div>
    </div>
    
  </div>
</div>
